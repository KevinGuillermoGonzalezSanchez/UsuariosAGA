@model ML.Usuario
@{
    ViewBag.Title = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>GetAll</h2>
<hr />

<div class="container">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <div class="row">
        <div class="col-md-6">
            @*@Html.ActionLink("+", "Formulario", "Usuario", new { @class = "btn btn-success", IdUsuario = 0 })*@


            <button type="button" class="btn btn-info">

                <a href="@Url.Action("Formulario", "Usuario", new { @class = "btn btn-success", IdUsuario = 0 }, null)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                        <path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                    </svg>
                </a>

            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="table-responsive">
                @if (Model.Usuarios != null)
                {
                    <table class="table table-hover">
                        <thead>
                            <tr>

                                <th> Editar </th>
                                <th> IdUsuario </th>
                                <th> Nombre </th>
                                <th> ApellidoPaterno </th>
                                <th> ApellidoMaterno </th>
                                <th> FechaNacimiento </th>
                                <th> Eliminar </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (ML.Usuario usuario in Model.Usuarios)
                            {
                                <tr>
                                    <td>
                                        <a href="@Url.Action("Formulario","Usuario", new {IdUsuario = usuario.IdUsuario})">
                                            <i class="bi bi-pencil-fill"></i>
                                        </a>
                                    </td>
                                    <td>@usuario.IdUsuario</td>
                                    <td>@usuario.Nombre </td>
                                    <td>@usuario.ApellidoPaterno</td>
                                    <td>@usuario.ApellidoMaterno</td>
                                    <td>@usuario.FechaNacimiento</td>
                                    <td>
                                        <a href="@Url.Action("Delete", "Usuario", new {IdUsuario = usuario.IdUsuario})"
                                           onclick="return confirmarEliminacion(@usuario.IdUsuario);">
                                            <i class="bi bi-trash-fill"></i>
                                        </a>

                                    </td>

                                </tr>
                            }
                            
                        </tbody>
                    </table>
                }
                else
                {
                    <div class="alert alert-danger" role="alert">
                        ERROR
                    </div>
                }
            </div>
        </div>
    </div>

    <script>
        function confirmarEliminacion(IdUsuario) {
            return confirm("Seguro que quieres eliminar a este usuario con ID: " + IdUsuario + "?");
        }
    </script>
